# Target Definitions
# Each target defines where built files go (relative to repo root)

# Shared templates distributed from src/templates/ to skill output templates/ dirs
# at build time. Source skills reference these as templates/<file> â€” the links
# resolve in build output but not in raw source (by design: source is build-input).
# Format: template-filename: [list of skill names that receive it]
shared-templates:
  session.md: [implement, resume, orchestration, reference-session, review-sessions]
  plan.md: [implement, council-session]
  adr.md: [architecture, reflect]

targets:
  claude-code:
    output: plugins/
    # Full plugins with agents, skills, hooks
    # Skills use SKILL.md frontmatter + .claude-code.yaml extensions

  opencode:
    output: dist/opencode/
    # Agents and skills with OpenCode-specific frontmatter

  cursor:
    output: dist/cursor/
    # Full Cursor support: agents, skills, hooks
    # Skills use SKILL.md frontmatter + .cursor.yaml extensions
    # Agents use Cursor-compatible frontmatter (name, description, model, is_background)
    defaults:
      agents:
        frontmatter:
          model: inherit
          is_background: true  # Default background for non-PM agents

  codex:
    output: dist/codex/
    # Skills only (no commands, agents, or hooks)
    # Skills use SKILL.md frontmatter + .codex.yaml extensions (globs)

  gemini:
    output: dist/gemini/
    # Skills only (structure TBD, similar to codex)
    # Gemini doesn't support XDG yet - uses ~/.gemini/ directly
